<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LABS67 ¬∑ Admin Panel</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#03050e;--bg2:#060916;--panel:#08101f;--panel2:#0b1526;
  --b1:rgba(255,255,255,0.07);--b2:rgba(255,255,255,0.14);
  --gold:#e8b840;--gold2:#f5cc60;--gold-dim:rgba(232,184,64,0.35);
  --cyan:#30dcff;--green:#1df59a;--red:#ff4d6d;--orange:#ff9500;
  --text:#cdd8f5;--muted:rgba(160,185,240,0.42);
  --sidebar:240px;--leads:320px;
}
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;overflow:hidden;}
body{background:var(--bg);color:var(--text);font-family:'Syne',sans-serif;}

/* ‚îÄ‚îÄ TOPBAR ‚îÄ‚îÄ */
.topbar{
  position:fixed;top:0;left:0;right:0;z-index:100;
  height:52px;display:flex;align-items:center;justify-content:space-between;
  padding:0 20px;
  background:rgba(3,5,14,0.95);backdrop-filter:blur(20px);
  border-bottom:1px solid var(--b1);
}
.tb-logo{display:flex;align-items:center;gap:10px;}
.tb-mark{
  width:28px;height:28px;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);
  display:flex;align-items:center;justify-content:center;
  font-family:'JetBrains Mono',monospace;font-size:0.48rem;font-weight:700;color:#03050e;
}
.tb-name{font-size:0.85rem;font-weight:800;letter-spacing:0.15em;}
.tb-name em{color:var(--gold);font-style:normal;}
.tb-badge{font-family:'JetBrains Mono',monospace;font-size:0.45rem;letter-spacing:0.25em;color:var(--muted);border:1px solid var(--b1);padding:3px 8px;}
.tb-r{display:flex;align-items:center;gap:12px;}
.tb-status{display:flex;align-items:center;gap:6px;font-family:'JetBrains Mono',monospace;font-size:0.5rem;letter-spacing:0.1em;color:var(--green);}
.tb-dot{width:5px;height:5px;border-radius:50%;background:var(--green);box-shadow:0 0 8px var(--green);animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{opacity:1;}50%{opacity:0.4;}}
.tb-btn{padding:5px 14px;border:1px solid var(--b1);background:transparent;color:var(--muted);font-family:'JetBrains Mono',monospace;font-size:0.48rem;letter-spacing:0.12em;text-transform:uppercase;cursor:pointer;transition:all 0.2s;}
.tb-btn:hover{border-color:var(--gold-dim);color:var(--gold);}
.tb-btn.active{border-color:var(--gold-dim);color:var(--gold);background:rgba(232,184,64,0.06);}

/* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
.layout{
  display:grid;
  grid-template-columns:var(--leads) 1fr 340px;
  height:100vh;
  padding-top:52px;
}

/* ‚îÄ‚îÄ PANEL COMMON ‚îÄ‚îÄ */
.pane{border-right:1px solid var(--b1);display:flex;flex-direction:column;overflow:hidden;}
.pane-hdr{
  padding:14px 16px;border-bottom:1px solid var(--b1);
  display:flex;align-items:center;justify-content:space-between;
  background:var(--panel);flex-shrink:0;
}
.pane-title{font-family:'JetBrains Mono',monospace;font-size:0.58rem;letter-spacing:0.2em;text-transform:uppercase;color:var(--gold);}
.pane-count{font-family:'JetBrains Mono',monospace;font-size:0.48rem;color:var(--muted);background:var(--b1);padding:2px 8px;}
.pane-body{flex:1;overflow-y:auto;}
.pane-body::-webkit-scrollbar{width:3px;}
.pane-body::-webkit-scrollbar-thumb{background:var(--b2);}

/* ‚îÄ‚îÄ LEADS ‚îÄ‚îÄ */
.lead-item{
  padding:14px 16px;border-bottom:1px solid var(--b1);
  cursor:pointer;transition:background 0.2s;
  position:relative;
}
.lead-item:hover{background:rgba(255,255,255,0.02);}
.lead-item.active{background:rgba(232,184,64,0.05);border-left:2px solid var(--gold);}
.lead-item.unread::after{content:'';position:absolute;top:14px;right:14px;width:6px;height:6px;border-radius:50%;background:var(--gold);}
.lead-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;}
.lead-name{font-size:0.82rem;font-weight:700;}
.lead-time{font-family:'JetBrains Mono',monospace;font-size:0.46rem;color:var(--muted);}
.lead-src{font-family:'JetBrains Mono',monospace;font-size:0.46rem;letter-spacing:0.1em;margin-bottom:5px;}
.lead-src.dental{color:var(--gold);}
.lead-src.trade{color:var(--cyan);}
.lead-src.academi{color:var(--green);}
.lead-src.franchise{color:var(--red);}
.lead-src.main{color:var(--muted);}
.lead-preview{font-size:0.75rem;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.lead-tags{display:flex;gap:4px;margin-top:6px;flex-wrap:wrap;}
.ltag{font-family:'JetBrains Mono',monospace;font-size:0.42rem;letter-spacing:0.08em;padding:2px 7px;border:1px solid var(--b1);color:var(--muted);}
.ltag.new{border-color:rgba(29,245,154,0.4);color:var(--green);}
.ltag.hot{border-color:rgba(255,77,109,0.4);color:var(--red);}
.ltag.contacted{border-color:rgba(232,184,64,0.3);color:var(--gold);}

.leads-filter{padding:10px 16px;border-bottom:1px solid var(--b1);display:flex;gap:6px;flex-wrap:wrap;background:var(--bg2);}
.lf-btn{padding:3px 10px;border:1px solid var(--b1);background:transparent;color:var(--muted);font-family:'JetBrains Mono',monospace;font-size:0.45rem;letter-spacing:0.1em;cursor:pointer;transition:all 0.2s;}
.lf-btn:hover,.lf-btn.active{color:var(--gold);border-color:var(--gold-dim);}

/* ‚îÄ‚îÄ CHAT LIST ‚îÄ‚îÄ */
.chat-list-pane{border-right:1px solid var(--b1);display:flex;flex-direction:column;overflow:hidden;min-width:0;}

/* ‚îÄ‚îÄ MAIN CHAT AREA ‚îÄ‚îÄ */
.chat-area{display:flex;flex-direction:column;overflow:hidden;}

.chat-contact-bar{
  padding:12px 20px;border-bottom:1px solid var(--b1);
  display:flex;align-items:center;justify-content:space-between;
  background:var(--panel);flex-shrink:0;
}
.ccb-l{display:flex;align-items:center;gap:12px;}
.ccb-avatar{
  width:34px;height:34px;border-radius:50%;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  display:flex;align-items:center;justify-content:center;
  font-size:0.9rem;font-weight:700;color:#03050e;
  font-family:'JetBrains Mono',monospace;
}
.ccb-name{font-size:0.88rem;font-weight:700;}
.ccb-meta{font-family:'JetBrains Mono',monospace;font-size:0.46rem;color:var(--muted);}
.ccb-r{display:flex;gap:8px;}
.ccb-btn{padding:5px 12px;border:1px solid var(--b1);background:transparent;color:var(--muted);font-family:'JetBrains Mono',monospace;font-size:0.45rem;letter-spacing:0.1em;cursor:pointer;transition:all 0.2s;}
.ccb-btn:hover{color:var(--gold);border-color:var(--gold-dim);}
.ccb-btn.danger{border-color:rgba(255,77,109,0.3);color:var(--red);}

.chat-msgs-area{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:12px;}
.chat-msgs-area::-webkit-scrollbar{width:3px;}
.chat-msgs-area::-webkit-scrollbar-thumb{background:var(--b2);}

.msg-row{display:flex;gap:10px;max-width:80%;}
.msg-row.bot{align-self:flex-start;}
.msg-row.user{align-self:flex-end;flex-direction:row-reverse;}
.msg-avatar{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.8rem;flex-shrink:0;margin-top:2px;}
.msg-avatar.bot-av{background:rgba(232,184,64,0.15);border:1px solid var(--gold-dim);}
.msg-avatar.user-av{background:rgba(255,255,255,0.05);border:1px solid var(--b1);}
.msg-bubble{padding:10px 14px;font-size:0.82rem;line-height:1.6;}
.msg-bubble.bot{background:var(--panel);border:1px solid var(--b1);border-radius:0 8px 8px 8px;}
.msg-bubble.user{background:rgba(255,255,255,0.04);border:1px solid var(--b1);border-radius:8px 0 8px 8px;}
.msg-sender{font-family:'JetBrains Mono',monospace;font-size:0.45rem;letter-spacing:0.1em;color:var(--gold);display:block;margin-bottom:5px;}
.msg-time{font-family:'JetBrains Mono',monospace;font-size:0.42rem;color:var(--muted);margin-top:4px;display:block;}

.chat-input-area{
  padding:14px 20px;border-top:1px solid var(--b1);
  display:flex;gap:10px;align-items:flex-end;
  background:var(--panel);flex-shrink:0;
}
.chat-input{
  flex:1;padding:10px 14px;
  background:rgba(0,0,0,0.3);border:1px solid var(--b1);
  color:var(--text);font-family:'Syne',sans-serif;font-size:0.82rem;
  outline:none;resize:none;height:40px;max-height:100px;
  transition:border-color 0.2s;
}
.chat-input:focus{border-color:var(--gold-dim);}
.chat-send-btn{
  padding:10px 18px;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  border:none;color:#03050e;font-family:'JetBrains Mono',monospace;
  font-size:0.52rem;letter-spacing:0.1em;font-weight:700;
  cursor:pointer;transition:all 0.2s;white-space:nowrap;
}
.chat-send-btn:hover{box-shadow:0 0 20px rgba(232,184,64,0.3);}

.ai-typing{display:flex;align-items:center;gap:8px;padding:8px 0;}
.typing-dot{width:5px;height:5px;border-radius:50%;background:var(--gold);animation:tdot 1.2s infinite;}
.typing-dot:nth-child(2){animation-delay:0.2s;}
.typing-dot:nth-child(3){animation-delay:0.4s;}
@keyframes tdot{0%,80%,100%{opacity:0.2;transform:scale(0.8);}40%{opacity:1;transform:scale(1);}}

/* ‚îÄ‚îÄ RIGHT PANEL (Lead Detail + Settings) ‚îÄ‚îÄ */
.right-panel{border-left:1px solid var(--b1);display:flex;flex-direction:column;overflow:hidden;}

.rp-tabs{display:flex;border-bottom:1px solid var(--b1);}
.rp-tab{
  flex:1;padding:12px;text-align:center;
  font-family:'JetBrains Mono',monospace;font-size:0.48rem;letter-spacing:0.12em;text-transform:uppercase;
  color:var(--muted);cursor:pointer;border-bottom:2px solid transparent;transition:all 0.2s;
  background:var(--panel);
}
.rp-tab:hover{color:var(--text);}
.rp-tab.active{color:var(--gold);border-bottom-color:var(--gold);}

.rp-body{flex:1;overflow-y:auto;padding:16px;}
.rp-body::-webkit-scrollbar{width:3px;}
.rp-body::-webkit-scrollbar-thumb{background:var(--b2);}

/* Lead detail */
.ld-section{margin-bottom:20px;}
.ld-label{font-family:'JetBrains Mono',monospace;font-size:0.46rem;letter-spacing:0.2em;text-transform:uppercase;color:var(--muted);margin-bottom:8px;}
.ld-val{font-size:0.82rem;font-weight:600;margin-bottom:4px;}
.ld-small{font-size:0.75rem;color:var(--muted);}
.ld-divider{border:none;border-top:1px solid var(--b1);margin:16px 0;}
.ld-status-row{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px;}
.status-btn{padding:4px 12px;border:1px solid var(--b1);background:transparent;color:var(--muted);font-family:'JetBrains Mono',monospace;font-size:0.45rem;letter-spacing:0.1em;cursor:pointer;transition:all 0.2s;}
.status-btn:hover{color:var(--gold);border-color:var(--gold-dim);}
.status-btn.active-new{border-color:rgba(29,245,154,0.4);color:var(--green);}
.status-btn.active-hot{border-color:rgba(255,77,109,0.4);color:var(--red);}
.status-btn.active-done{border-color:rgba(232,184,64,0.3);color:var(--gold);}

.ld-note{width:100%;padding:8px 10px;background:rgba(0,0,0,0.3);border:1px solid var(--b1);color:var(--text);font-family:'Syne',sans-serif;font-size:0.78rem;resize:vertical;min-height:80px;outline:none;margin-top:8px;}
.ld-note:focus{border-color:var(--gold-dim);}
.ld-save-btn{width:100%;margin-top:8px;padding:8px;background:var(--gold-dim);border:1px solid var(--gold-dim);color:var(--gold);font-family:'JetBrains Mono',monospace;font-size:0.48rem;letter-spacing:0.1em;cursor:pointer;transition:all 0.2s;}
.ld-save-btn:hover{background:rgba(232,184,64,0.15);}

/* Settings */
.setting-group{margin-bottom:20px;}
.sg-title{font-family:'JetBrains Mono',monospace;font-size:0.5rem;letter-spacing:0.2em;text-transform:uppercase;color:var(--gold);margin-bottom:10px;display:flex;align-items:center;gap:8px;}
.sg-title::before{content:'//';opacity:0.4;}
.setting-row{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--b1);}
.setting-row:last-child{border-bottom:none;}
.sr-label{font-size:0.78rem;font-weight:600;}
.sr-sub{font-family:'JetBrains Mono',monospace;font-size:0.44rem;color:var(--muted);margin-top:2px;}

.toggle{width:36px;height:20px;background:var(--b1);border-radius:10px;cursor:pointer;position:relative;transition:background 0.3s;border:1px solid var(--b2);flex-shrink:0;}
.toggle.on{background:rgba(29,245,154,0.2);border-color:rgba(29,245,154,0.4);}
.toggle::after{content:'';position:absolute;top:2px;left:2px;width:14px;height:14px;border-radius:50%;background:var(--muted);transition:all 0.3s;}
.toggle.on::after{left:18px;background:var(--green);}

.context-area{
  width:100%;padding:10px;
  background:rgba(0,0,0,0.4);border:1px solid var(--b1);
  color:var(--text);font-family:'JetBrains Mono',monospace;font-size:0.68rem;
  line-height:1.7;resize:vertical;min-height:140px;outline:none;
  margin-top:8px;
}
.context-area:focus{border-color:var(--gold-dim);}
.save-ctx-btn{
  width:100%;margin-top:8px;padding:9px;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  border:none;color:#03050e;font-family:'JetBrains Mono',monospace;
  font-size:0.5rem;letter-spacing:0.12em;font-weight:700;cursor:pointer;transition:all 0.2s;
}
.save-ctx-btn:hover{box-shadow:0 0 20px rgba(232,184,64,0.3);}

.select-fi{
  width:100%;padding:7px 10px;
  background:rgba(0,0,0,0.3);border:1px solid var(--b1);
  color:var(--text);font-family:'JetBrains Mono',monospace;font-size:0.55rem;
  outline:none;cursor:pointer;margin-top:6px;
}
.select-fi:focus{border-color:var(--gold-dim);}
option{background:#08101f;}

.empty-state{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  height:100%;gap:12px;color:var(--muted);
}
.es-icon{font-size:2rem;opacity:0.3;}
.es-text{font-family:'JetBrains Mono',monospace;font-size:0.55rem;letter-spacing:0.12em;}

/* Stats bar */
.stats-bar{
  display:flex;gap:1px;background:var(--b1);border-bottom:1px solid var(--b1);
}
.stat-item{
  flex:1;padding:10px 14px;background:var(--bg2);text-align:center;
}
.stat-num{font-size:1.2rem;font-weight:800;color:var(--gold);display:block;}
.stat-lbl{font-family:'JetBrains Mono',monospace;font-size:0.42rem;letter-spacing:0.15em;text-transform:uppercase;color:var(--muted);display:block;margin-top:2px;}

/* Notifications */
.notif{
  position:fixed;bottom:20px;right:20px;z-index:999;
  padding:12px 18px;background:var(--panel);border:1px solid var(--green);
  color:var(--green);font-family:'JetBrains Mono',monospace;font-size:0.55rem;
  letter-spacing:0.1em;animation:slideIn 0.3s ease;max-width:280px;
}
@keyframes slideIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<!-- TOPBAR -->
<div class="topbar">
  <div class="tb-logo">
    <div class="tb-mark">L67</div>
    <div>
      <div class="tb-name"><em>LABS</em>67</div>
    </div>
    <div class="tb-badge">ADMIN PANEL</div>
  </div>
  <div class="tb-r">
    <div class="tb-status"><div class="tb-dot"></div>AI ONLINE</div>
    <button class="tb-btn active" onclick="showView('crm')">// CRM</button>
    <button class="tb-btn" onclick="showView('settings')">// –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    <button class="tb-btn" onclick="showView('analytics')">// –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
  </div>
</div>

<!-- MAIN LAYOUT -->
<div class="layout" id="mainLayout">

  <!-- COL 1: LEADS -->
  <div class="pane" id="leadsPane">
    <div class="pane-hdr">
      <span class="pane-title">// –ó–∞—è–≤–∫–∏</span>
      <span class="pane-count" id="leadCount">7</span>
    </div>
    <div class="stats-bar">
      <div class="stat-item"><span class="stat-num" id="statNew">3</span><span class="stat-lbl">–ù–æ–≤—ã–µ</span></div>
      <div class="stat-item"><span class="stat-num" style="color:var(--red)" id="statHot">2</span><span class="stat-lbl">–ì–æ—Ä—è—á–∏–µ</span></div>
      <div class="stat-item"><span class="stat-num" style="color:var(--green)" id="statDone">2</span><span class="stat-lbl">–ó–∞–∫—Ä—ã—Ç—ã</span></div>
    </div>
    <div class="leads-filter">
      <button class="lf-btn active" onclick="filterLeads('all',this)">–í—Å–µ</button>
      <button class="lf-btn" onclick="filterLeads('dental',this)">DentalAI</button>
      <button class="lf-btn" onclick="filterLeads('trade',this)">TradeAI</button>
      <button class="lf-btn" onclick="filterLeads('academi',this)">Academi</button>
      <button class="lf-btn" onclick="filterLeads('franchise',this)">Franchise</button>
    </div>
    <div class="pane-body" id="leadsList"></div>
  </div>

  <!-- COL 2: CHAT AREA -->
  <div class="chat-area" id="chatArea">
    <!-- Contact bar -->
    <div class="chat-contact-bar" id="chatContactBar" style="display:none;">
      <div class="ccb-l">
        <div class="ccb-avatar" id="chatAvatar">?</div>
        <div>
          <div class="ccb-name" id="chatName">‚Äî</div>
          <div class="ccb-meta" id="chatMeta">‚Äî</div>
        </div>
      </div>
      <div class="ccb-r">
        <button class="ccb-btn" onclick="markContacted()">‚úì Contacted</button>
        <button class="ccb-btn danger" onclick="archiveLead()">Archive</button>
      </div>
    </div>

    <!-- Messages -->
    <div class="chat-msgs-area" id="chatMessages">
      <div class="empty-state">
        <div class="es-icon">üí¨</div>
        <div class="es-text">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞—è–≤–∫—É —Å–ª–µ–≤–∞</div>
      </div>
    </div>

    <!-- Input -->
    <div class="chat-input-area" id="chatInputArea" style="display:none;">
      <textarea class="chat-input" id="adminInput" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É AI..." onkeydown="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();sendAdminMsg();}"></textarea>
      <button class="chat-send-btn" onclick="sendAdminMsg()">// SEND</button>
    </div>
  </div>

  <!-- COL 3: RIGHT PANEL -->
  <div class="right-panel">
    <div class="rp-tabs">
      <div class="rp-tab active" onclick="switchRpTab('detail',this)">–ó–∞—è–≤–∫–∞</div>
      <div class="rp-tab" onclick="switchRpTab('context',this)">AI –ö–æ–Ω—Ç–µ–∫—Å—Ç</div>
      <div class="rp-tab" onclick="switchRpTab('settings',this)">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
    </div>
    <div class="rp-body" id="rpBody">
      <div class="empty-state" style="height:200px;">
        <div class="es-icon">üìã</div>
        <div class="es-text">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞—è–≤–∫—É</div>
      </div>
    </div>
  </div>

</div>

<script>
// ‚îÄ‚îÄ DATA ‚îÄ‚îÄ
const leads = [
  {id:1, name:'Aleksander Kowalski', phone:'+48 571 234 567', email:'a.kowalski@email.com', source:'dental', msg:'–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∑–∞–ø–∏—Å—å –Ω–∞ –∏–º–ø–ª–∞–Ω—Ç–∞—Ü–∏—é, —Ö–æ—Ç–µ–ª –±—ã —É–∑–Ω–∞—Ç—å —Ü–µ–Ω—ã', time:'14:32', date:'Today', status:'hot', tags:['hot','–Ω–æ–≤—ã–π'], unread:true,
    chat:[
      {role:'user', text:'–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–º–ø–ª–∞–Ω—Ç–∞—Ü–∏—è, –∫–∞–∫–æ–≤–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å?', time:'14:30'},
      {role:'bot', text:'–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –°—Ç–æ–∏–º–æ—Å—Ç—å –∏–º–ø–ª–∞–Ω—Ç–∞—Ü–∏–∏ –æ—Ç 3 500 ‚ÇΩ. –î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ –Ω—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è. –ö–æ–≥–¥–∞ –≤–∞–º —É–¥–æ–±–Ω–æ?', time:'14:30'},
      {role:'user', text:'–ú–æ–∂–Ω–æ –≤ —ç—Ç—É –ø—è—Ç–Ω–∏—Ü—É –≤ 15:00?', time:'14:31'},
      {role:'bot', text:'–ü—è—Ç–Ω–∏—Ü–∞ 15:00 ‚Äî –ø—Ä–æ–≤–µ—Ä—è—é —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ... –ö–∞–±–∏–Ω–µ—Ç —Å–≤–æ–±–æ–¥–µ–Ω! –ó–∞–ø–∏—Å–∞—Ç—å –≤–∞—Å?', time:'14:31'},
      {role:'user', text:'–î–∞, –∑–∞–ø–∏—à–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞', time:'14:32'},
      {role:'bot', text:'–û—Ç–ª–∏—á–Ω–æ! –ó–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞: –ø—è—Ç–Ω–∏—Ü–∞, 15:00. –ù–∞–ø–æ–º–Ω–∏–º –∑–∞ —á–∞—Å. –ï—Å—Ç—å –ª–∏ –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã?', time:'14:32'},
    ]},
  {id:2, name:'Maria Nowak', phone:'+48 600 111 222', email:'m.nowak@business.pl', source:'franchise', msg:'–•–æ—á—É –æ—Ç–∫—Ä—ã—Ç—å –∫–ª–∏–Ω–∏–∫—É –≤ –í–∞—Ä—à–∞–≤–µ –ø–æ–¥ –±—Ä–µ–Ω–¥–æ–º LABS67', time:'13:15', date:'Today', status:'new', tags:['–Ω–æ–≤—ã–π'], unread:true,
    chat:[
      {role:'user', text:'–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –•–æ—á—É –æ—Ç–∫—Ä—ã—Ç—å –∫–ª–∏–Ω–∏–∫—É –≤ –í–∞—Ä—à–∞–≤–µ –ø–æ–¥ –≤–∞—à–∏–º –±—Ä–µ–Ω–¥–æ–º. –° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å?', time:'13:14'},
      {role:'bot', text:'–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä ‚Äî –í–∞—Ä—à–∞–≤–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —Ä–µ–≥–∏–æ–Ω –¥–ª—è –Ω–∞—Å. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ: —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ?', time:'13:14'},
      {role:'user', text:'–ï—Å—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ 200 –∫–≤.–º. –≤ —Ü–µ–Ω—Ç—Ä–µ, –∏—â—É –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ', time:'13:15'},
      {role:'bot', text:'200 –∫–≤.–º. –≤ —Ü–µ–Ω—Ç—Ä–µ ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥ DentalAI –∫–ª–∏–Ω–∏–∫—É. –û—Ç–ø—Ä–∞–≤–ª—é –≤–∞–º –¥–µ—Ç–∞–ª–∏ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ –Ω–∞ email. –£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å?', time:'13:15'},
    ]},
  {id:3, name:'Thomas M√ºller', phone:'+49 151 234 5678', email:'t.mueller@klinik.de', source:'trade', msg:'We need Clinical Vision for our radiology department', time:'11:45', date:'Today', status:'new', tags:['–Ω–æ–≤—ã–π'], unread:false,
    chat:[
      {role:'user', text:'Hello! We are looking for AI imaging solution for our radiology dept in Berlin. 3 units.', time:'11:43'},
      {role:'bot', text:'Hello Thomas! Clinical Vision is perfect for radiology. 3 units ‚Äî I can prepare a custom quote. What imaging formats do you use?', time:'11:44'},
      {role:'user', text:'Mainly DICOM from Siemens and Philips systems', time:'11:45'},
      {role:'bot', text:'Clinical Vision fully supports DICOM and integrates with Siemens/Philips via HL7. I\'ll prepare a technical proposal. What\'s the best contact?', time:'11:45'},
    ]},
  {id:4, name:'–ê–Ω–Ω–∞ –ú–∏—Ä–æ—à–Ω–∏—á–µ–Ω–∫–æ', phone:'+380 67 123 4567', email:'a.mirror@ukr.net', source:'academi', msg:'–¶—ñ–∫–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∞ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–ª—è –Ω–∞—à–æ—ó –∫–æ–º–∞–Ω–¥–∏', time:'10:20', date:'Today', status:'new', tags:['–Ω–æ–≤—ã–π'], unread:false,
    chat:[
      {role:'user', text:'–î–æ–±—Ä–∏–¥–µ–Ω—å! –•–æ—á—É –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ –ø—Ä–æ–≥—Ä–∞–º—É AI Integration Certification –¥–ª—è 5 –ª—ñ–∫–∞—Ä—ñ–≤ –∫–ª—ñ–Ω—ñ–∫–∏.', time:'10:18'},
      {role:'bot', text:'–î–æ–±—Ä–æ–≥–æ –¥–Ω—è! –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –¥–ª—è 5 –ª—ñ–∫–∞—Ä—ñ–≤ ‚Äî –≤—ñ–¥–º—ñ–Ω–Ω–æ. –í–∫–ª—é—á–∞—î –ø—Ä–∞–∫—Ç–∏–∫—É –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—ñ. –Ø–∫–∞ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏?', time:'10:19'},
      {role:'user', text:'–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏, 3 —Ç–µ—Ä–∞–ø–µ–≤—Ç–∏ —Ç–∞ 2 —Ö—ñ—Ä—É—Ä–≥–∏', time:'10:20'},
      {role:'bot', text:'–Ü–¥–µ–∞–ª—å–Ω–æ ‚Äî —î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Ç—Ä–µ–∫ –¥–ª—è —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ–≤. –ù–∞–¥—ñ—à–ª—é –ø—Ä–æ–≥—Ä–∞–º—É —Ç–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –Ω–∞ email. –í–∫–∞–∂—ñ—Ç—å –∞–¥—Ä–µ—Å—É?', time:'10:20'},
    ]},
  {id:5, name:'Jean-Pierre Dubois', phone:'+33 6 12 34 56 78', email:'jp.dubois@clinique.fr', source:'dental', msg:'Int√©ress√© par une clinique intelligente √† Paris', time:'09:05', date:'Today', status:'contacted', tags:['contacted'], unread:false,
    chat:[
      {role:'user', text:'Bonjour! Je cherche une solution AI pour ma clinique dentaire √† Paris. 3 chairs.', time:'09:03'},
      {role:'bot', text:'Bonjour! DentalAI pour 3 fauteuils ‚Äî configuration id√©ale. Incluant reconnaissance faciale, assistant vocal et analyse radiologique. Quand souhaitez-vous une d√©mo?', time:'09:04'},
      {role:'user', text:'La semaine prochaine si possible', time:'09:05'},
    ]},
  {id:6, name:'Piotr Wi≈õniewski', phone:'+48 512 345 678', email:'p.wisniewski@apteka.pl', source:'trade', msg:'SmartRoom –¥–ª—è –∞–ø—Ç–µ–∫–∏ –≤ –ö—Ä–∞–∫–æ–≤–µ, 3 —Å–µ–∫—Ü–∏–∏', time:'Yesterday', date:'Yesterday', status:'done', tags:[], unread:false,
    chat:[
      {role:'user', text:'Hej! Potrzebujƒô SmartRoom dla apteki 3-segmentowej w Krakowie.', time:'Yesterday'},
      {role:'bot', text:'Hej Piotr! SmartRoom dla apteki ‚Äî czujniki obecno≈õci, inteligentne o≈õwietlenie, integracja z systemem magazynowym. Skonfigurujemy pod 3 segmenty.', time:'Yesterday'},
    ]},
  {id:7, name:'–°–µ—Ä–≥—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ', phone:'+380 50 987 6543', email:'s.kovalenko@med.ua', source:'franchise', msg:'–ú–∞—Å—Ç–µ—Ä-–ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ –¥–ª—è –ö–∏–µ–≤–∞ –∏ –•–∞—Ä—å–∫–æ–≤–∞', time:'Yesterday', date:'Yesterday', status:'done', tags:[], unread:false,
    chat:[
      {role:'user', text:'–î–æ–±—Ä–∏–π –¥–µ–Ω—å! –†–æ–∑–≥–ª—è–¥–∞—é –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ –¥–ª—è –ö–∏—î–≤–∞ —ñ –•–∞—Ä–∫–æ–≤–∞ –æ–¥–Ω–æ—á–∞—Å–Ω–æ.', time:'Yesterday'},
      {role:'bot', text:'–î–æ–±—Ä–∏–π –¥–µ–Ω—å –°–µ—Ä–≥—ñ—é! –î–≤–∞ –º—ñ—Å—Ç–∞ –æ–¥–Ω–æ—á–∞—Å–Ω–æ ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ –±–∞—á–µ–Ω–Ω—è. –í—ñ–¥–ø—Ä–∞–≤–∏–≤ –¥–µ—Ç–∞–ª—ñ –Ω–∞ email, –Ω–∞—à –ø–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∑–≤\'—è–∂–µ—Ç—å—Å—è –∑–∞–≤—Ç—Ä–∞.', time:'Yesterday'},
    ]},
];

let currentLead = null;
let currentFilter = 'all';

// ‚îÄ‚îÄ RENDER LEADS ‚îÄ‚îÄ
function renderLeads(filter='all') {
  const list = document.getElementById('leadsList');
  const filtered = leads.filter(l => filter==='all' || l.source===filter);
  list.innerHTML = filtered.map(l => `
    <div class="lead-item ${l.status==='hot'?'unread':''} ${currentLead?.id===l.id?'active':''} ${l.unread?'unread':''}" onclick="openLead(${l.id})">
      <div class="lead-top">
        <span class="lead-name">${l.name}</span>
        <span class="lead-time">${l.time}</span>
      </div>
      <div class="lead-src ${l.source}">${l.source.toUpperCase()} ¬∑ ${l.date}</div>
      <div class="lead-preview">${l.msg}</div>
      <div class="lead-tags">
        ${l.tags.map(t=>`<span class="ltag ${t==='–Ω–æ–≤—ã–π'?'new':t==='hot'?'hot':t==='contacted'?'contacted':''}">${t}</span>`).join('')}
      </div>
    </div>
  `).join('');
  document.getElementById('leadCount').textContent = filtered.length;
  document.getElementById('statNew').textContent = leads.filter(l=>l.status==='new').length;
  document.getElementById('statHot').textContent = leads.filter(l=>l.status==='hot').length;
  document.getElementById('statDone').textContent = leads.filter(l=>l.status==='done').length;
}

filterLeads = (f, btn) => {
  currentFilter = f;
  document.querySelectorAll('.lf-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderLeads(f);
};

// ‚îÄ‚îÄ OPEN LEAD ‚îÄ‚îÄ
function openLead(id) {
  currentLead = leads.find(l=>l.id===id);
  if (!currentLead) return;
  currentLead.unread = false;
  renderLeads(currentFilter);

  // Contact bar
  document.getElementById('chatContactBar').style.display='flex';
  document.getElementById('chatInputArea').style.display='flex';
  const initials = currentLead.name.split(' ').map(w=>w[0]).join('').slice(0,2);
  document.getElementById('chatAvatar').textContent = initials;
  document.getElementById('chatName').textContent = currentLead.name;
  document.getElementById('chatMeta').textContent = `${currentLead.phone} ¬∑ ${currentLead.email} ¬∑ ${currentLead.source.toUpperCase()}`;

  renderChat(currentLead.chat);
  renderLeadDetail(currentLead);
}

// ‚îÄ‚îÄ RENDER CHAT ‚îÄ‚îÄ
function renderChat(msgs) {
  const area = document.getElementById('chatMessages');
  area.innerHTML = msgs.map(m => `
    <div class="msg-row ${m.role}">
      <div class="msg-avatar ${m.role==='bot'?'bot-av':'user-av'}">${m.role==='bot'?'ü§ñ':'üë§'}</div>
      <div>
        <div class="msg-bubble ${m.role}">
          ${m.role==='bot'?'<span class="msg-sender">// LABS67 AI</span>':''}
          ${m.text}
          <span class="msg-time">${m.time}</span>
        </div>
      </div>
    </div>
  `).join('');
  area.scrollTop = area.scrollHeight;
}

// ‚îÄ‚îÄ SEND ADMIN MSG ‚îÄ‚îÄ
function sendAdminMsg() {
  const inp = document.getElementById('adminInput');
  const val = inp.value.trim();
  if (!val || !currentLead) return;
  inp.value = '';

  const now = new Date();
  const time = `${now.getHours()}:${String(now.getMinutes()).padStart(2,'0')}`;
  currentLead.chat.push({role:'user', text:'[Admin] ' + val, time});
  renderChat(currentLead.chat);

  // Simulate AI response
  setTimeout(() => {
    currentLead.chat.push({role:'bot', text:'–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞... –û—Ç–≤–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞.', time});
    renderChat(currentLead.chat);
  }, 1200);
}

// ‚îÄ‚îÄ LEAD DETAIL ‚îÄ‚îÄ
function renderLeadDetail(lead) {
  const body = document.getElementById('rpBody');
  body.innerHTML = `
    <div class="ld-section">
      <div class="ld-label">–ö–æ–Ω—Ç–∞–∫—Ç</div>
      <div class="ld-val">${lead.name}</div>
      <div class="ld-small">${lead.phone}</div>
      <div class="ld-small">${lead.email}</div>
    </div>
    <hr class="ld-divider">
    <div class="ld-section">
      <div class="ld-label">–ò—Å—Ç–æ—á–Ω–∏–∫</div>
      <div class="ld-val" style="color:var(--gold)">${lead.source.toUpperCase()}.labs67.com</div>
      <div class="ld-small">${lead.date} ¬∑ ${lead.time}</div>
    </div>
    <hr class="ld-divider">
    <div class="ld-section">
      <div class="ld-label">–ó–∞–ø—Ä–æ—Å</div>
      <div class="ld-small" style="line-height:1.6;">${lead.msg}</div>
    </div>
    <hr class="ld-divider">
    <div class="ld-section">
      <div class="ld-label">–°—Ç–∞—Ç—É—Å</div>
      <div class="ld-status-row">
        <button class="status-btn ${lead.status==='new'?'active-new':''}" onclick="setStatus('new')">–ù–æ–≤—ã–π</button>
        <button class="status-btn ${lead.status==='hot'?'active-hot':''}" onclick="setStatus('hot')">üî• –ì–æ—Ä—è—á–∏–π</button>
        <button class="status-btn ${lead.status==='contacted'?'active-done':''}" onclick="setStatus('contacted')">Contacted</button>
        <button class="status-btn ${lead.status==='done'?'active-done':''}" onclick="setStatus('done')">‚úì –ó–∞–∫—Ä—ã—Ç</button>
      </div>
    </div>
    <hr class="ld-divider">
    <div class="ld-section">
      <div class="ld-label">–ó–∞–º–µ—Ç–∫–∞</div>
      <textarea class="ld-note" id="leadNote" placeholder="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É...">${lead.note||''}</textarea>
      <button class="ld-save-btn" onclick="saveNote()">// –°–û–•–†–ê–ù–ò–¢–¨</button>
    </div>
    <hr class="ld-divider">
    <div class="ld-section">
      <div class="ld-label">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div>
      <div style="display:flex;flex-direction:column;gap:6px;margin-top:8px;">
        <button class="ld-save-btn" onclick="notify('üìß Email –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!')" style="background:transparent;border:1px solid var(--b2);color:var(--muted);">‚úâÔ∏è –û—Ç–ø—Ä–∞–≤–∏—Ç—å email</button>
        <button class="ld-save-btn" onclick="notify('üìû –ó–≤–æ–Ω–æ–∫ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω!')" style="background:transparent;border:1px solid var(--b2);color:var(--muted);">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
        <button class="ld-save-btn" onclick="notify('üìÖ –í—Å—Ç—Ä–µ—á–∞ —Å–æ–∑–¥–∞–Ω–∞!')" style="background:transparent;border:1px solid var(--b2);color:var(--muted);">üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É</button>
      </div>
    </div>
  `;
}

function setStatus(status) {
  if (!currentLead) return;
  currentLead.status = status;
  currentLead.tags = status==='new'?['–Ω–æ–≤—ã–π']:status==='hot'?['hot']:status==='contacted'?['contacted']:[];
  renderLeads(currentFilter);
  renderLeadDetail(currentLead);
  notify(`–°—Ç–∞—Ç—É—Å ‚Üí ${status}`);
}

function saveNote() {
  if (!currentLead) return;
  currentLead.note = document.getElementById('leadNote')?.value;
  notify('–ó–∞–º–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ ‚úì');
}

function markContacted() { setStatus('contacted'); }
function archiveLead() { if(currentLead){currentLead.status='done';currentLead.tags=[];renderLeads(currentFilter);notify('–ó–∞—è–≤–∫–∞ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');}}

// ‚îÄ‚îÄ RP TABS ‚îÄ‚îÄ
function switchRpTab(tab, btn) {
  document.querySelectorAll('.rp-tab').forEach(t=>t.classList.remove('active'));
  btn.classList.add('active');
  const body = document.getElementById('rpBody');
  if (tab==='detail') {
    if (currentLead) renderLeadDetail(currentLead);
    else body.innerHTML='<div class="empty-state" style="height:200px;"><div class="es-icon">üìã</div><div class="es-text">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞—è–≤–∫—É</div></div>';
  } else if (tab==='context') {
    body.innerHTML = `
      <div class="setting-group">
        <div class="sg-title">–°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç AI –∞–≥–µ–Ω—Ç–∞</div>
        <textarea class="context-area" id="aiContext">–í—ã ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–æ–Ω—Ü–µ—Ä–Ω–∞ LABS67. –í—ã –ø–æ–º–æ–≥–∞–µ—Ç–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏: DentalAI (—É–º–Ω—ã–µ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏), Academi67 (–æ–±—É—á–µ–Ω–∏–µ), TradeAI (–º–µ–¥—Ç–µ—Ö —Ä–µ—à–µ–Ω–∏—è), Franchise67 (–ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ).

–í–∞—à —Å—Ç–∏–ª—å: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, —Ç—ë–ø–ª—ã–π, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã. –û—Ç–≤–µ—á–∞–π—Ç–µ –ø–æ –¥–µ–ª—É.

–í—Å–µ–≥–¥–∞ —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å:
1. –ü–æ–Ω—è—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
2. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ

–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏: hello@labs67.com, +48 571 719 800</textarea>
        <button class="save-ctx-btn" onclick="saveContext()">// –°–û–•–†–ê–ù–ò–¢–¨ –ö–û–ù–¢–ï–ö–°–¢</button>
      </div>
      <div class="setting-group">
        <div class="sg-title">–¢–æ–Ω –æ–±—â–µ–Ω–∏—è</div>
        <select class="select-fi" id="aiTone">
          <option>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π + —Ç—ë–ø–ª—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</option>
          <option>–°—Ç—Ä–æ–≥–æ –¥–µ–ª–æ–≤–æ–π</option>
          <option>–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏ –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π</option>
          <option>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–µ—Ä—Ç</option>
        </select>
      </div>
      <div class="setting-group">
        <div class="sg-title">–Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</div>
        <select class="select-fi">
          <option>–ê–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</option>
          <option>–ë–µ–ª–∞—Ä—É—Å–∫–∞—è</option>
          <option>–£–∫—Ä–∞–∏–Ω—Å–∫–∞—è</option>
          <option>English</option>
          <option>Polski</option>
          <option>Fran√ßais</option>
          <option>Deutsch</option>
        </select>
      </div>
      <div class="setting-group">
        <div class="sg-title">–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã</div>
        <textarea class="context-area" style="min-height:80px;" placeholder="–î–æ–±–∞–≤—å—Ç–µ —à–∞–±–ª–æ–Ω—ã –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤...">‚Üí –ó–∞–ø–∏—Å—å: dental@labs67.com –∏–ª–∏ +48 571 719 800
‚Üí –ö–∞—Ç–∞–ª–æ–≥: trade@labs67.com
‚Üí –ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ: franchise@labs67.com
‚Üí –û–±—É—á–µ–Ω–∏–µ: academi@labs67.com</textarea>
      </div>
    `;
  } else if (tab==='settings') {
    body.innerHTML = `
      <div class="setting-group">
        <div class="sg-title">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
        <div class="setting-row">
          <div><div class="sr-label">Email –ø—Ä–∏ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ</div><div class="sr-sub">hello@labs67.com</div></div>
          <div class="toggle on" onclick="this.classList.toggle('on')"></div>
        </div>
        <div class="setting-row">
          <div><div class="sr-label">Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div><div class="sr-sub">@labs67_admin</div></div>
          <div class="toggle" onclick="this.classList.toggle('on')"></div>
        </div>
        <div class="setting-row">
          <div><div class="sr-label">–ó–≤—É–∫ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏</div></div>
          <div class="toggle on" onclick="this.classList.toggle('on')"></div>
        </div>
      </div>
      <div class="setting-group">
        <div class="sg-title">AI –∞–≥–µ–Ω—Ç</div>
        <div class="setting-row">
          <div><div class="sr-label">–ê–≤—Ç–æ–æ—Ç–≤–µ—Ç</div><div class="sr-sub">AI –æ—Ç–≤–µ—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div></div>
          <div class="toggle on" onclick="this.classList.toggle('on')"></div>
        </div>
        <div class="setting-row">
          <div><div class="sr-label">–°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∏–∞–ª–æ–≥–∏</div></div>
          <div class="toggle on" onclick="this.classList.toggle('on')"></div>
        </div>
        <div class="setting-row">
          <div><div class="sr-label">–ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É</div><div class="sr-sub">–ü—Ä–∏ –≥–æ—Ä—è—á–µ–º –ª–∏–¥–µ</div></div>
          <div class="toggle on" onclick="this.classList.toggle('on')"></div>
        </div>
      </div>
      <div class="setting-group">
        <div class="sg-title">–ú–æ–¥–µ–ª—å AI</div>
        <select class="select-fi">
          <option>Claude Sonnet 4.5 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</option>
          <option>Claude Haiku (–±—ã—Å—Ç—Ä—ã–π)</option>
          <option>GPT-4o</option>
          <option>Gemini Flash</option>
        </select>
      </div>
      <div class="setting-group">
        <div class="sg-title">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</div>
        <div class="setting-row">
          <div><div class="sr-label">Supabase DB</div><div class="sr-sub" style="color:var(--red);">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</div></div>
          <button class="status-btn" onclick="notify('–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase...')">–ü–æ–¥–∫–ª—é—á–∏—Ç—å</button>
        </div>
        <div class="setting-row">
          <div><div class="sr-label">OpenRouter API</div><div class="sr-sub" style="color:var(--red);">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</div></div>
          <button class="status-btn" onclick="notify('–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API...')">–ü–æ–¥–∫–ª—é—á–∏—Ç—å</button>
        </div>
        <div class="setting-row">
          <div><div class="sr-label">Telegram Bot</div><div class="sr-sub" style="color:var(--red);">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</div></div>
          <button class="status-btn" onclick="notify('–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram...')">–ü–æ–¥–∫–ª—é—á–∏—Ç—å</button>
        </div>
      </div>
    `;
  }
}

function saveContext() { notify('–ö–æ–Ω—Ç–µ–∫—Å—Ç AI –∞–≥–µ–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω ‚úì'); }

// ‚îÄ‚îÄ NOTIFICATION ‚îÄ‚îÄ
function notify(msg) {
  const el = document.createElement('div');
  el.className='notif';
  el.textContent = msg;
  document.body.appendChild(el);
  setTimeout(()=>el.remove(), 3000);
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
renderLeads('all');

// Simulate new lead arriving
setTimeout(()=>{
  notify('üîî –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞: dental.labs67.com');
}, 4000);
</script>
</body>
</html>
